<?xml version="1.0" encoding="UTF-8"?>
<project name="Movie_Renamer" default="default" basedir=".">
  <description>Builds, tests, and runs the project Movie Renamer.</description>
  <target name="-pre-init">
      <property file="src\fr\free\movierenamer\version.properties"/>
      <property name="dist.jar" value="dist/${apps}-${apps.version}.jar" />
   </target>
  
  <import file="nbproject/build-impl.xml"/>
   
  <target name="mrInstaller" depends="init,compile,jar">
    <copy file="install.xml" tofile="install-tmp.xml" >
      <filterchain>
         <replacetokens>
            <token key="JARFILE" value="${apps}-${apps.version}.jar"/>
            <token key="VERSION" value="${apps.version}"/>
          </replacetokens>
      </filterchain>
    </copy>
    <copy file="shortcutSpec.xml" tofile="shortcutSpec-tmp.xml" >
      <filterchain>
         <replacetokens>
            <token key="JARFILE" value="${apps}-${apps.version}.jar"/>
          </replacetokens>
      </filterchain>
    </copy>
    <copy file="Unix_shortcutSpec.xml" tofile="Unix_shortcutSpec-tmp.xml" >
      <filterchain>
         <replacetokens>
            <token key="JARFILE" value="${apps}-${apps.version}.jar"/>
          </replacetokens>
      </filterchain>
    </copy>
    <exec executable="compile">
      <arg value="install-tmp.xml"/>
      <arg value="-o" />
      <arg value="dist/${apps}_Installer-${apps.version}.jar"/>
      <arg value="-k"/>
      <arg value="standard"/>
    </exec>
    <exec executable="chmod">
      <arg value="+x" />
      <arg value="dist/${apps}_Installer-${apps.version}.jar" />
      <arg value="${dist.jar}" />
    </exec>
    <delete file="shortcutSpec-tmp.xml"/>
    <delete file="Unix_shortcutSpec-tmp.xml"/>
    <delete file="install-tmp.xml"/>
  </target>
</project>
